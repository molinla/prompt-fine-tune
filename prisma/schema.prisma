datasource db {
  provider = "postgresql"
}

generator client {
  provider = "prisma-client"
  output   = "./generated/prisma"
}

model UserSetting {
  userId String
  key    String
  value  String

  @@id([userId, key])
}

model TestCase {
  id               String        @id @default(uuid())
  userId           String
  input            String
  expectedCount    Int           @default(5)
  validationScript String?
  history          HistoryItem[]
  createdAt        DateTime      @default(now())
}

model HistoryItem {
  id          String   @id @default(uuid())
  testCaseId  String
  testCase    TestCase @relation(fields: [testCaseId], references: [id], onDelete: Cascade)
  timestamp   DateTime @default(now())
  successRate Float
}
